#!/bin/bash

input_file="template.drl"
output_file="generated_rules.drl"

if [[ ! -f "$input_file" ]]; then
  echo "❌ Template file '$input_file' not found."
  exit 1
fi

# Create/overwrite output file
echo "// Auto-generated DRL file" > "$output_file"

# Loop to generate 1000 rules
for i in $(seq -f "%04g" 1 1000); do
  rule_name="AB177_7711_$i"
  
  # Replace placeholder XXXX in rule name
  sed "s/AB177_7711_XXXX/$rule_name/g" "$input_file" >> "$output_file"
  echo "" >> "$output_file"
done

echo "✅ Generated $output_file with 1000 rules using rule name prefix AB177_7711_XXXX."
